<h1>jQuery-like selector functions</h1>

<ul>
  <li>
    <span class="counter">0</span>
    First Item
    <span class="increment">+</span>
    <span class="decrement">-</span>
  </li>

  <li>
    <span class="counter">0</span>
    Second Item
    <span class="increment">+</span>
    <span class="decrement">-</span>
  </li>

    <li>
    <span class="counter">0</span>
    Third Item
    <span class="increment">+</span>
    <span class="decrement">-</span>
  </li>

</ul>

<script class="visible">
const $ = (selector, target = document) => target.querySelector(selector)
const $all = (selector) => document.querySelectorAll(selector)

const $on = (type, target, callback) => {
  target instanceof NodeList
  ? target.forEach(elem => elem.addEventListener(type, callback))
  : target.addEventListener(type, callback)
}

$('h1').style = 'color: red;'
$on('click', $all('.increment'), increment)
$on('click', $all('.decrement'), decrement)

function increment() {
  let counter = $('.counter', this.parentElement)
  counter.textContent = +counter.textContent + 1
}

function decrement() {
  let counter = $('.counter', this.parentElement)
  counter.textContent = +counter.textContent - 1
}
</script>

<style>
script.visible {
  display: block;
  white-space: pre-wrap;
  font-family: monospace;
  background: whitesmoke;
  padding: 1rem;
  line-height: 1.4;
}

.counter {
  font-weight: bold;
  margin-right: 5px;
}

li {
  width: max-content;
  list-style: none;
  list-style-position: outside;
  cursor: pointer;
  user-select: none;
  margin-bottom: 0.5rem;
}

.increment,
.decrement {
  color: white;
  background: lime;
  height: 18px;
  width: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 16px;
}
</style>
